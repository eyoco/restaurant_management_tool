{"ast":null,"code":"import { FETCH_ALL, CREATE, UPDATE, DELETE } from '../constants/actionTypes';\nimport * as api from '../api';\nimport axios from 'axios'; // Action Creators\n\nexport const getTables = tid => async dispatchTables => {\n  try {\n    const {\n      data\n    } = await api.fetchTables(tid);\n    dispatchTables({\n      type: FETCH_ALL,\n      payload: data\n    });\n  } catch (error) {\n    console.log(api.fetchTables());\n    console.log(error.message);\n  }\n};\nexport const createTable = table => async dispatchTables => {\n  const json = JSON.stringify({\n    meal_name: table.meal_name,\n    table_id: table.table_id,\n    price: table.price,\n    quantity: table.quantity\n  });\n\n  try {\n    const res = axios.post('http://localhost:3002/tables', json, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  } catch (error) {}\n};\nexport const updateTable = table => async dispatchTables => {\n  const json = JSON.stringify({\n    order_id: table.order_id,\n    meal_name: table.meal_name,\n    table_id: table.table_id,\n    price: table.price,\n    quantity: table.quantity\n  });\n\n  try {\n    const res = axios.put('http://localhost:3002/update', json, {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n  } catch (error) {}\n};\nexport const deleteTable = table => async dispatchTables => {\n  try {\n    const res = axios.delete('http://localhost:3002/delete', {\n      params: {\n        oid: table\n      }\n    });\n  } catch (error) {}\n};\nexport const checkoutTable = table => async dispatchTables => {\n  // console.log('oid is ' + oid);\n  // const json = JSON.stringify({ order_id: table });\n  // const oid = oid;\n  // console.log('json is ' + json);\n  try {\n    const res = axios.delete('http://localhost:3002/checkout', {\n      params: {\n        tid: table\n      }\n    });\n  } catch (error) {}\n};","map":{"version":3,"sources":["/Users/yuanou/Desktop/memories_project_0424/client/src/actions/tables.js"],"names":["FETCH_ALL","CREATE","UPDATE","DELETE","api","axios","getTables","tid","dispatchTables","data","fetchTables","type","payload","error","console","log","message","createTable","table","json","JSON","stringify","meal_name","table_id","price","quantity","res","post","headers","updateTable","order_id","put","deleteTable","delete","params","oid","checkoutTable"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,MAA5B,EAAoCC,MAApC,QAAkD,0BAAlD;AACA,OAAO,KAAKC,GAAZ,MAAqB,QAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,OAAO,MAAMC,SAAS,GAAIC,GAAD,IAAS,MAAOC,cAAP,IAA0B;AACxD,MAAI;AACA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAML,GAAG,CAACM,WAAJ,CAAgBH,GAAhB,CAAvB;AAEAC,IAAAA,cAAc,CAAC;AAAEG,MAAAA,IAAI,EAAEX,SAAR;AAAmBY,MAAAA,OAAO,EAAEH;AAA5B,KAAD,CAAd;AACH,GAJD,CAIE,OAAOI,KAAP,EAAc;AACZC,IAAAA,OAAO,CAACC,GAAR,CAAYX,GAAG,CAACM,WAAJ,EAAZ;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACG,OAAlB;AACH;AACJ,CATM;AAWP,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW,MAAOV,cAAP,IAA0B;AAC5D,QAAMW,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAEC,IAAAA,SAAS,EAAEJ,KAAK,CAACI,SAAnB;AACEC,IAAAA,QAAQ,EAAEL,KAAK,CAACK,QADlB;AAEEC,IAAAA,KAAK,EAAEN,KAAK,CAACM,KAFf;AAGEC,IAAAA,QAAQ,EAAEP,KAAK,CAACO;AAHlB,GAAf,CAAb;;AAIA,MAAI;AACA,UAAMC,GAAG,GAAGrB,KAAK,CAACsB,IAAN,CAAW,8BAAX,EAA2CR,IAA3C,EAAiD;AACzDS,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AADgD,KAAjD,CAAZ;AAKH,GAND,CAME,OAAOf,KAAP,EAAc,CACf;AACJ,CAbM;AAeP,OAAO,MAAMgB,WAAW,GAAIX,KAAD,IAAW,MAAOV,cAAP,IAA0B;AAC5D,QAAMW,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAe;AAAES,IAAAA,QAAQ,EAAEZ,KAAK,CAACY,QAAlB;AACER,IAAAA,SAAS,EAAEJ,KAAK,CAACI,SADnB;AAEEC,IAAAA,QAAQ,EAAEL,KAAK,CAACK,QAFlB;AAGEC,IAAAA,KAAK,EAAEN,KAAK,CAACM,KAHf;AAIEC,IAAAA,QAAQ,EAAEP,KAAK,CAACO;AAJlB,GAAf,CAAb;;AAKA,MAAI;AACA,UAAMC,GAAG,GAAGrB,KAAK,CAAC0B,GAAN,CAAU,8BAAV,EAA0CZ,IAA1C,EAAgD;AACxDS,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAD+C,KAAhD,CAAZ;AAKH,GAND,CAME,OAAOf,KAAP,EAAc,CACf;AACJ,CAdM;AAgBP,OAAO,MAAMmB,WAAW,GAAId,KAAD,IAAW,MAAOV,cAAP,IAA0B;AAC5D,MAAI;AACA,UAAMkB,GAAG,GAAGrB,KAAK,CAAC4B,MAAN,CAAa,8BAAb,EAA6C;AACrDC,MAAAA,MAAM,EAAE;AACJC,QAAAA,GAAG,EAAEjB;AADD;AAD6C,KAA7C,CAAZ;AAKH,GAND,CAME,OAAOL,KAAP,EAAc,CACf;AACJ,CATM;AAWP,OAAO,MAAMuB,aAAa,GAAIlB,KAAD,IAAW,MAAOV,cAAP,IAA0B;AAC9D;AACA;AACA;AACA;AACA,MAAI;AACA,UAAMkB,GAAG,GAAGrB,KAAK,CAAC4B,MAAN,CAAa,gCAAb,EAA+C;AACvDC,MAAAA,MAAM,EAAE;AACJ3B,QAAAA,GAAG,EAAEW;AADD;AAD+C,KAA/C,CAAZ;AAKH,GAND,CAME,OAAOL,KAAP,EAAc,CACf;AACJ,CAbM","sourcesContent":["import { FETCH_ALL, CREATE, UPDATE, DELETE } from '../constants/actionTypes';\nimport * as api from '../api';\nimport axios from 'axios';\n\n// Action Creators\nexport const getTables = (tid) => async (dispatchTables) => {\n    try {\n        const { data } = await api.fetchTables(tid);\n\n        dispatchTables({ type: FETCH_ALL, payload: data });\n    } catch (error) {\n        console.log(api.fetchTables())\n        console.log(error.message);\n    }\n}\n\nexport const createTable = (table) => async (dispatchTables) => {\n    const json = JSON.stringify({ meal_name: table.meal_name,\n                                  table_id: table.table_id,\n                                  price: table.price,\n                                  quantity: table.quantity,});\n    try {\n        const res = axios.post('http://localhost:3002/tables', json, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    } catch (error) {\n    }\n}\n\nexport const updateTable = (table) => async (dispatchTables) => {\n    const json = JSON.stringify({ order_id: table.order_id,\n                                  meal_name: table.meal_name,\n                                  table_id: table.table_id,\n                                  price: table.price,\n                                  quantity: table.quantity,});\n    try {\n        const res = axios.put('http://localhost:3002/update', json, {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n    } catch (error) {\n    }\n}\n\nexport const deleteTable = (table) => async (dispatchTables) => {\n    try {\n        const res = axios.delete('http://localhost:3002/delete', {\n            params: {\n                oid: table,\n            },\n        });\n    } catch (error) {\n    }\n}\n\nexport const checkoutTable = (table) => async (dispatchTables) => {\n    // console.log('oid is ' + oid);\n    // const json = JSON.stringify({ order_id: table });\n    // const oid = oid;\n    // console.log('json is ' + json);\n    try {\n        const res = axios.delete('http://localhost:3002/checkout', {\n            params: {\n                tid: table,\n            },\n        });\n    } catch (error) {\n    }\n}\n"]},"metadata":{},"sourceType":"module"}